# ðŸ¥š R library

[TOC]

### `dplyr`

- ë°ì´í„°í”„ë ˆìž„ ì²˜ë¦¬ì— íŠ¹í™”ëœ íŒ¨í‚¤ì§€

- íŒŒì´í”„ë¼ì¸(`%>%`) ì—°ì‚°ìž ì‚¬ìš©
  - ìµœì†Œí•œì˜ ë³€ìˆ˜ë§Œ ì§€ì •í•˜ì—¬ ë°ì´í„° í•¸ë“¤ë§ ê°€ëŠ¥
  - ì½”ë“œì˜ ê°€ë…ì„± ì¦ê°€

**ì»¬ëŸ¼ ì´ë¦„ ë°”ê¾¸ê¸°**

```r
rename(ë°ì´í„°í”„ë ˆìž„, ë°”ê¾¼ í›„ì˜ ì—´ ì´ë¦„1 = ë°”ë€Œê¸° ì „ ì—´ ì´ë¦„1, ...) 
ë°ì´í„°í”„ë ˆìž„ %>% rename(ë°”ê¾¼ í›„ì˜ ì—´ ì´ë¦„1 = ë°”ë€Œê¸° ì „ ì—´ ì´ë¦„1, ...)
```

**ìƒˆë¡œìš´ ì»¬ëŸ¼ ë§Œë“¤ê¸°**

```r
ë°ì´í„°í”„ë ˆìž„ %>% mutate(ì—´ ì´ë¦„1 = ì—´ ë‚´ìš©1,
                 ì—´ ì´ë¦„2 = ì—´ ë‚´ìš©2, ...)
```

**í•„ìš”í•œ í–‰ë§Œ ì¶”ì¶œí•˜ê¸°**

```r
ë°ì´í„°í”„ë ˆìž„ %>% filter(ì¡°ê±´)
```

**í•„ìš”í•œ ì»¬ëŸ¼ë§Œ ì¶”ì¶œí•˜ê¸°**

```r
ë°ì´í„°í”„ë ˆìž„ %>% select(ì—´ ì´ë¦„1, ì—´ ì´ë¦„2, ...)
```

**ìˆœì„œëŒ€ë¡œ ì •ë ¬í•˜ê¸°**

```r
ë°ì´í„°í”„ë ˆìž„ %>% arrange(ì—´ ì´ë¦„)
```

**ì»¬ëŸ¼ ë³„ ìš”ì•½í•˜ê¸°**

```r
ë°ì´í„°í”„ë ˆìž„ %>% group_by(ì—´ ì´ë¦„) %>% summarise()
emp%>%
  group_by(DEPARTMENT_ID)%>%
  summarise(sum_sal = sum(SALARY), mean_sal = mean(SALARY))
```

**ì§‘ë‹¨ ë³„ ìš”ì•½í•˜ê¸°**

```r
ë°ì´í„°í”„ë ˆìž„ %>% summarise(ì—´ ì´ë¦„ = ìš”ì•½ì •ë³´)
emp%>%
  summarise(sum_sal = sum(SALARY), mean_sal = mean(SALARY))
```

```r
# summarise_at íŠ¹ì •í•œ ì—´ì— ëŒ€í•´ ì›í•˜ëŠ” ê·¸ë£¹í•¨ìˆ˜ ì—¬ëŸ¬ ê°œë¥¼ í•œ ë²ˆì— ì‚¬ìš© ê°€ëŠ¥
emp%>%
  summarise_at(c('SALARY','COMMISSION_PCT'),
                      c(sum, mean), na.rm=T)
```

```r
# summarise_if í•´ë‹¹ë˜ëŠ” ë°ì´í„°ì— ëª¨ë‘ í•¨ìˆ˜ ì ìš©
emp%>%
  summarise_if(is.numeric,sum)
```

**íŒŒì´í”„ë¼ì¸ì€ ì¤‘ì²© ê°€ëŠ¥**

```r
emp%>%
  filter(SALARY> 
           max(emp%>%
           filter(JOB_ID=='SA_REP')%>%
           select(SALARY))
         )%>%
  select(LAST_NAME,SALARY,JOB_ID) 
```

